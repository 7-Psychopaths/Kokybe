{% load i18n %}
{% load sizify from damis %}
{% load paginate from pagination %}

{% if file_path %}
    <div class="message">
        {% trans 'Dataset used in the experiment' %}: <a href="{{ file_path }}">{{ file_name }}</a>
    </div>
    {% if file_path and not page %}
        <button type="button" class="toggle-btn show btn">{% trans 'New file' %}</button>
    {% else %}
        <button type="button" class="toggle-btn btn">{% trans 'Hide form' %}</button>
    {% endif %}
{% else %}
    <div class="message">
        {% trans 'Uploaded files' %}:
    </div>
{% endif %}
<div class="file-list toggle-section" {% if file_path and not page %}style="display:none;"{% endif %}>
    <table class="table table-hover">
         <thead>
             <tr>
                 <th></th>
                 <th>{% trans "Title" %}</th>
                 <th>{% trans "Size" %}</th>
                 <th>{% trans "Created" %}</th>
                 <th>{% trans "Description" %}</th>
             </tr>
         </thead>
         <tbody>
           {% for dataset in object_list %}
             <tr>
                 <td><input type='radio' value="{{ dataset.file.url }}" name="dataset_pk"/></td>
                 <td>{{ dataset.title }}</td>
                 <td>{{ dataset.file.size|sizify }}</td>
                 <td>{{ dataset.created|date:"Y-m-d" }}</td>
                 <td>{{ dataset.description }}</td>
             </tr>
           {% empty %}
           <tr>
               <td colspan="4" style="text-align:center;">
                   {% trans "No files were uploaded yet. You can upload one " %}
                   <a href='{% url 'dataset-new' %}'>{% trans "here" %}</a>.
               </td>
           </tr>
           {% endfor %}
         </tbody>
    </table>
    <hr/>
    {% paginate request paginator page_obj %}
</div>
