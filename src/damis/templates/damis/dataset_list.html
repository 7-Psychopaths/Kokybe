{% extends "base.html" %}
{% load i18n %}
{% load sizify from damis %}
{% get_current_language as lang %}

{% block menu %}
    {% include 'menu.html' with active='data' %}
{% endblock %}

{% block content %}
<div class="span12">
<div class="tabbable"> <!-- Only required for left/right tabs -->
  {% include 'files_menu.html' with active='dataset-list' %}
  <div class="tab-content">
    <div class="tab-pane active" id="data-list">
      <form id='dataset-action-form' method='POST' action=''>{% csrf_token %}
      <input type="hidden" value="delete" name="action"/>
      <button class="btn" type="submit"><i class="icon-trash"></i></button>
      <table class="table table-hover">
          <thead>
              <tr>
                  <th><input class="select-all" type="checkbox"></th>
                  <th>{% trans "Title" %}</th>
                  <th>{% trans "Size" %}</th>
                  <th>{% trans "Description" %}</th>
                  <th style='text-align: center;'>{% trans "Actions" %}</th>
              </tr>
          </thead>
          <tbody>
            {% for dataset in object_list %}
              <tr>
                  <td><input type='checkbox' value="{{ dataset.pk }}" name="pk"/></td>
                  <td>{{ dataset.title }}</td>
                  <td>{{ dataset.file.size|sizify }}</td>
                  <td>{{ dataset.description }}</td>
                  <td>
                      <a href="{% url 'dataset-update' dataset.pk %}">
                          <button type="button" class="btn btn-small" style="margin-right: 30px;"><i class="icon-pencil"></i></button>
                      </a>

                      <div class="btn-group">
                          <a href="{% url 'dataset-download' dataset.pk 'CSV' %}">
                              <button type="button" class="btn btn-small">{% trans "CSV" %}</button>
                          </a>
                          <a href="{% url 'dataset-download' dataset.pk 'ARFF' %}">
                              <button type="button" class="btn btn-small">{% trans "ARFF" %}</button>
                          </a>
                          <a href="{% url 'dataset-download' dataset.pk 'XML' %}">
                              <button type="button" class="btn btn-small">{% trans "XML" %}</button>
                          </a>
                      </div>
                  </td>
              </tr>
            {% endfor %}
          </tbody>
      </table>
      </form>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
{{ block.super }}
    <script src="/static/js/bootstrap-tab.js" type="text/javascript"></script>
{% endblock %}

