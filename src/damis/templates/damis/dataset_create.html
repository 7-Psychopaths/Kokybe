{% extends "base.html" %}
{% load i18n %}
{% get_current_language as lang %}

{% block menu %}
    {% include 'menu.html' with active='data' %}
{% endblock %}

{% block content %}
<div class="span12">
<div class="tabbable"> <!-- Only required for left/right tabs -->
  <ul class="nav nav-tabs" id="myTab2">
      <li class="active"><a href="#data-list" data-toggle="tab">{% trans "Dataset list" %}</a></li>
      <li><a href="#upload-data" data-toggle="tab">{% trans "Upload dataset" %}</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="data-list">
      <table class="table table-hover">
          <thead>
              <tr>
                  <th>{% trans "Title" %}</th>
                  <th>{% trans "Licence" %}</th>
                  <th>{% trans "Size" %}</th>
                  <th>{% trans "Actions" %}</th>
                  <th>{% trans "Download" %}</th>
              </tr>
          </thead>
          <tbody>
            {% for file in files %}
              <tr>
                
                  <td>{{ file.title }}</td>
                  <td>{{ file.license }}</td>
                  <td>{{ file.size }}</td>
                  <td>
                      <div class="btn-group" >
                          <button type="button" class="btn btn-small"><i class="icon-eye-open"></i></button>
                          <button type="button" class="btn btn-small"><i class="icon-edit"></i>
                          <button type="button" class="btn btn-small"><i class="icon-trash"></i></button>
                      </div>
                  </td>
                  <td>
                      <div class="btn-group" >
                          <button type="button" class="btn btn-small">{% trans "CSV" %}</button>
                          <button type="button" class="btn btn-small">{% trans "ARFF" %}</button>
                          <button type="button" class="btn btn-small">{% trans "XLS" %}</button>
                      </div>
                  </td>
              </tr>
            {% endfor %}
          </tbody>
      </table>
    </div>
    <div class="tab-pane" id="upload-data">

    <div class="span8 offset3">
        <form method='POST' action='/{{ lang }}/datasets/' enctype="multipart/form-data">{% csrf_token %}
            {% for error in form.non_field_errors %}
                <div class="alert alert-error">{{ error }}</div>
            {% endfor %}

            {% for field in form.visible_fields %}
                {{ field.errors }}
                {% if field.name == 'license' %}
                <p>{{ field.label }}:<br/> {{ field }} &nbsp;&nbsp;&nbsp;<a href="/{{ lang }}/datasets/licenses/create/">{% trans "Add" %}</a></p>
                {% else %}
                    <p>{{ field.label }}:<br/> {{ field }}</p>
                {% endif %}
            {% endfor %}
            {% for hidden in form.hidden_fields %}
                {{ hidden }}
            {% endfor %}
            <input type='submit' class="btn btn-primary" value="{% trans "Upload dataset" %}" />
        </form>
    </div>

    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
{{ block.super }}
    <script src="/static/js/bootstrap-tab.js" type="text/javascript"></script>
{% endblock %}

